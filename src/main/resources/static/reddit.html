<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Java Reddit Posts</title>
<style>
h1 {
font-family: Verdana, Helvetica, Arial, sans-serif;
font-weight: 500;
font-size: 1.6em;
}

body {
font-family: Verdana, Helvetica, Arial, sans-serif;
padding-left: 5%;
padding-right: 5%;
font-weight: 500;
}

body .extra {
white-space: pre-wrap;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">
    </head><body><section class="hero is-info"><div class="hero-body">
<h1 class="has-text-centered title has-text-white">Java Reddit Posts</h1>
</div></section>
<nav class="breadcrumb container is-fluid" aria-label="breadcrumbs">
  <ul>
    <li><a href="https://d1s6gdf0jyk1uk.cloudfront.net/">Buffalo Food Banks List</a></li>
    <li><a href="https://d1s6gdf0jyk1uk.cloudfront.net/news.html">Buffalo News</a></li>
    <li><a href="https://d1s6gdf0jyk1uk.cloudfront.net/nationalnews.html">National News</a></li>
    <li><a href="https://d1s6gdf0jyk1uk.cloudfront.net/reddit.html">AWS Lambda Function</a></li>
    <li><a href="https://d1s6gdf0jyk1uk.cloudfront.net/api.html">Website API Links</a></li>
  </ul>
</nav>
<div class="container is-fluid">
	<h1 class="title has-text-black">Java Reddit Posts</h1>
	<p class="content is-medium has-text-black"> <b>This page uses an AWS Lambda function to parse the Reddit RSS feed for the Java subreddit. May take a few seconds to load since a new container must be started if there have been no recent requests.</b> </p><br></div>
<div class="extra"><div class="container is-fluid has-text-black content is-medium" id="top"></div></div>
<script> 
async function getData() {
        let url = 'https://d1s6gdf0jyk1uk.cloudfront.net/awslambdareddit';
	//let url = 'http://localhost:8080/buffalonews/';
        try {
                let response = await fetch(url);
                return await response.text();
            } catch (error) {
                    console.log(error);
                }
    }
async function renderData() {
        let stories = await getData();
        let html = "";
	let htmlSegment = `<p>${stories}</p>
			   <br>`;
        html += htmlSegment;
        let container = document.querySelector("#top");
        container.innerHTML = html;
}
renderData();
    </script>
</body></html>
